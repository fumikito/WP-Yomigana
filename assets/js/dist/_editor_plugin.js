!function(){tinymce.create("tinymce.plugins.yomigana",{getInfo:function(){return{longname:"Yomigana",author:"Takahashi Fumiki",authorurl:"http://takahashifumiki.com",infourl:"https://wordpress.org/plugins/wp-yomigana/",version:"1.0"}},init:function(e,t){e.addCommand("Ruby",function(){e.focus(),e.ieBookmark=e.selection.getBookmark(1),e.windowManager.open({file:t+"/ruby.php",width:350,height:150,inline:1},{plugin_url:t})}),e.addButton("ruby",{title:"yomigana_dlg.rubyTitle",cmd:"Ruby",image:t+"/img/ruby.gif"}),e.addCommand("inlineQ",function(){e.focus(),e.ieBookmark=e.selection.getBookmark(1),e.windowManager.open({file:t+"/q.php",width:350,height:150,inline:1},{plugin_url:t})}),e.addButton("q",{title:"yomigana_dlg.qTitle",cmd:"inlineQ",image:t+"/img/q.png"}),e.addCommand("Small",function(){var e=this.selection.getNode();if("SMALL"==e.nodeName){var t=document.createTextNode(e.innerHTML);this.dom.replace(t,e,!1)}else if(this.selection.getContent().length>0){var i=this.dom.create("small");this.dom.setHTML(i,this.selection.getContent()),this.selection.setNode(i)}}),e.addButton("small",{title:"yomigana_dlg.smallTitle",cmd:"Small",image:t+"/img/small.png"}),e.addCommand("DL",function(){var e,t=this.selection.getStart(),n=this.selection.getEnd();if(this.dom.getParent(t,"DL")?e=this.dom.getParent(t,"DL"):"DL"==this.selection.getNode().tagName&&(e=this.selection.getNode()),e){for(i=0,l=e.childNodes.length;i<l;i++){var o=document.createElement("p");o.innerHTML=e.childNodes[i].innerHTML,this.dom.insertAfter(o,e)}this.dom.remove(e)}else if(this.selection.getContent().length>0){var a=this.dom.create("dl");if(t==n)this.dom.rename(t,"dt"),a.appendChild(t),this.selection.setNode(a);else{var d=t,s=this.dom;for(i=0;!0&&(this.dom.add(a,i%2==0?"DT":"DD",{},d.innerHTML),i++,d!=n&&(d=this.dom.getNext(d,function(e){return e&&s.isBlock(e)}))&&!(i>100)););}this.selection.setNode(a)}}),e.addButton("dl",{title:"yomigana_dlg.dlTitle",cmd:"DL",image:t+"/img/dl.png"}),e.onNodeChange.add(function(e,t,i,n){if(i=e.dom.getParent(i,"RUBY,SMALL,Q,DL"),t.setDisabled("ruby",n),t.setActive("ruby",0),t.setDisabled("small",n),t.setActive("small",0),t.setDisabled("q",n),t.setActive("q",0),i)do t.setDisabled(i.nodeName.toLowerCase(),0),t.setActive(i.nodeName.toLowerCase(),1);while(i=i.parentNode)})}}),tinymce.PluginManager.add("yomigana",tinymce.plugins.yomigana)}();
//# sourceMappingURL=map/_editor_plugin.js.map