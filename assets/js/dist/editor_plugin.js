tinymce.PluginManager.add("yomigana",function(e,t){function o(e,t){var o,n=e.selection.getNode();return n.nodeName==t.toUpperCase()?(o=document.createTextNode(n.innerHTML),e.dom.replace(o,n,!1)):e.selection.getContent().length>0&&(o=e.dom.create(t),e.dom.setHTML(o,e.selection.getContent()),e.selection.setNode(o)),o}e.addButton("dl",{image:WpYomigana.imageBase+"dl.png",type:"splitbutton",tooltip:WpYomigana.dl,stateSelector:"dl",menu:[{text:WpYomigana.dlToggle,data:"list"},{text:WpYomigana.dtToggle,data:"toggle"}],onselect:function(t){switch(t.control.settings.data){case"toggle":var o,n,a,i=e.selection.getNode(),d=e.dom.getParent(i,"dl");if(!d)return;if(e.dom.is(i,"dt"))o=i,n="dd";else if(e.dom.is(i,"dd"))o=i,n="dt";else if(a=e.dom.getParent(i,"dt",d))o=a,n="dd";else{if(!(a=e.dom.getParent(i,"dd",d)))return;o=a,n="dt"}e.dom.rename(o,n);break;default:e.execCommand("InsertDefinitionList")}},onclick:function(){e.execCommand("InsertDefinitionList")}}),e.addButton("small",{image:WpYomigana.imageBase+"small.png",tooltip:WpYomigana.small,stateSelector:"small",onClick:function(){o(e,"small")}}),e.addButton("cite",{image:WpYomigana.imageBase+"cite.png",tooltip:WpYomigana.cite,stateSelector:"cite",onClick:function(){o(e,"cite")}}),e.addButton("q",{image:WpYomigana.imageBase+"q.png",tooltip:WpYomigana.q,stateSelector:"q",onClick:function(){var t,n,a=e.selection.getNode(),i=!1;e.dom.is(a,"q")||((t=e.dom.getParent(node,"q"))?a=t:i=!0),n=window.prompt(WpYomigana.qDesc,n,e.dom.getAttrib(a,"title","")),o(e,"q")}})});
//# sourceMappingURL=map/editor_plugin.js.map